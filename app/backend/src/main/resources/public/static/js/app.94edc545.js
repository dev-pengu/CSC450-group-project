(function(e){function t(t){for(var a,s,u=t[0],i=t[1],l=t[2],p=0,m=[];p<u.length;p++)s=u[p],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);c&&c(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,u=1;u<r.length;u++){var i=r[u];0!==n[i]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},n={app:0},o=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var c=i;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("5a56")},"0dc6":function(e,t,r){"use strict";r("8946")},"4db0":function(e,t,r){"use strict";r("e5ce")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=r("bc3a"),o=r.n(n),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[this.$store&&this.$store.getters.isLoggedIn?r("div",[r("NavBar"),r("router-view")],1):r("div",[r("router-view")],1)])},u=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),r("a",{on:{click:e.logout}},[e._v("Logout")])],1)},l=[],c=r("1da1"),p=(r("96cf"),void 0),m={name:"NavBar",computed:{isLoggedIn:function(){return p.$store.getters.isLoggedIn}},methods:{logout:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("logout");case 2:e.$router.push("/login");case 3:case"end":return t.stop()}}),t)})))()}}},f=m,v=r("0c7c"),d=Object(v["a"])(f,i,l,!1,null,null,null),g=d.exports,h=o.a.create({baseURL:"/api/services",timeout:1e3,headers:{"Content-Type":"application/json",Accept:"application/json"}}),b={login:function(e){return h.post("/auth/login",{username:e.username,password:e.password},{validateStatus:function(e){return e<500}})},logout:function(){return h.post("/auth/logout")},getDashboardData:function(){return h.get("/dashboard")},createUser:function(e){return h.post("/auth",{username:e.username,firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password})}},_={components:{NavBar:g},mounted:function(){window.onunload=function(){b.logout()}}},w=_,j=(r("034f"),Object(v["a"])(w,s,u,!1,null,null,null)),D=j.exports,x=(r("d3b7"),r("8c4f")),k=r("2f62"),y=r("0e44"),P=(r("d9e2"),{state:{loggedIn:!1,loginError:!1,username:null},mutations:{login_success:function(e,t){e.loggedIn=!0,e.username=t.username},login_error:function(e,t){e.loginError=!0,e.username=t.username},logout_success:function(e){e.loggedIn=!1,e.username=null}},actions:{login:function(e,t){var r=e.commit;return new Promise((function(e,a){b.login(t).then((function(a){200===a.status&&r("login_success",{username:t.username}),e(a)})).catch((function(e){r("login_error",{username:t.username}),a(new Error("Invalid credentials!"))}))}))},logout:function(e){var t=e.commit;b.logout().then((function(){t("logout_success")}))}},getters:{isLoggedIn:function(e){return e.loggedIn},hasLoginErrored:function(e){return e.loginError},getUsername:function(e){return e.username}}});a["a"].use(k["a"]);var N=new k["a"].Store({modules:{auth:P},plugins:[Object(y["a"])({key:"appStore",storage:window.sessionStorage})]}),O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("img",{attrs:{alt:"Vue logo",src:r("cf05")}}),a("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},$=[],E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("h1",[e._v(e._s(e.msg))]),e._m(0),r("h3",[e._v("Installed CLI Plugins")]),e._m(1),r("h3",[e._v("Essential Links")]),e._m(2),r("h3",[e._v("Ecosystem")]),e._m(3)])},L=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v(" For a guide and recipes on how to configure / customize this project,"),r("br"),e._v(" check out the "),r("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(". ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[e._v("babel")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router",target:"_blank",rel:"noopener"}},[e._v("router")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[e._v("eslint")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-unit-jest",target:"_blank",rel:"noopener"}},[e._v("unit-jest")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-e2e-cypress",target:"_blank",rel:"noopener"}},[e._v("e2e-cypress")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),r("li",[r("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),r("li",[r("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),r("li",[r("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),r("li",[r("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),r("li",[r("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),r("li",[r("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],C={name:"HelloWorld",props:{msg:String}},S=C,I=(r("4db0"),Object(v["a"])(S,E,L,!1,null,"66f08c36",null)),U=I.exports,R={name:"Home",components:{HelloWorld:U}},A=R,H=Object(v["a"])(A,O,$,!1,null,null,null),M=H.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("img",{attrs:{alt:"Logo",src:r("cf05")}}),a("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[a("p",[e._v("Dont have an account? "),a("router-link",{attrs:{to:"/signup"}},[e._v("Sign up!")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],attrs:{placeholder:"Username"},domProps:{value:e.formData.username},on:{input:function(t){t.target.composing||e.$set(e.formData,"username",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}}),a("button",{attrs:{type:"submit"}},[e._v("Login")]),e.error?a("p",{staticClass:"error",domProps:{textContent:e._s(e.errors.join("<br/>"))}}):e._e()])])},W=[],B=r("5530"),F={name:"Login",components:{},data:function(){return{formData:{username:"",password:""},error:!1,errors:[]}},methods:Object(B["a"])(Object(B["a"])({},Object(k["b"])(["login"])),{},{submit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.error=!1,e.errors=[],""!==e.formData.username&&""!==e.formData.password){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,e.login(e.formData);case 7:r=t.sent,200===r.status?e.$router.push("/"):(e.errors.push("Error with credentials"),e.error=!0),t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](4),a={err:t.t0},a.err.isAxiosError?e.errors.push(a.err.response.data):e.errors.push(t.t0),e.error=!0;case 16:case"end":return t.stop()}}),t,null,[[4,11]])})))()}})},q=F,J=(r("d6db"),Object(v["a"])(q,T,W,!1,null,null,null)),V=J.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"signup"},[a("img",{attrs:{alt:"Logo",src:r("cf05")}}),a("form",{on:{submit:function(t){return t.preventDefault(),e.signUp()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],attrs:{placeholder:"Username"},domProps:{value:e.formData.username},on:{input:function(t){t.target.composing||e.$set(e.formData,"username",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.email,expression:"formData.email"}],attrs:{placeholder:"Email",type:"email"},domProps:{value:e.formData.email},on:{input:function(t){t.target.composing||e.$set(e.formData,"email",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.firstName,expression:"formData.firstName"}],attrs:{placeholder:"First Name"},domProps:{value:e.formData.firstName},on:{input:function(t){t.target.composing||e.$set(e.formData,"firstName",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.lastName,expression:"formData.lastName"}],attrs:{placeholder:"Last Name"},domProps:{value:e.formData.lastName},on:{input:function(t){t.target.composing||e.$set(e.formData,"lastName",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.confirmPassword,expression:"formData.confirmPassword"}],attrs:{type:"password",placeholder:"Confirm Password"},domProps:{value:e.formData.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.formData,"confirmPassword",t.target.value)}}}),a("button",{attrs:{type:"submit"}},[e._v("Sign Up")]),e.error?a("p",{staticClass:"error",domProps:{textContent:e._s(e.errors.join("<br/>"))}}):e._e()])])},Y=[],G={name:"SignUp",data:function(){return{formData:{username:"",password:"",confirmPassword:"",email:"",firstName:"",lastName:""},error:!1,errors:[]}},methods:Object(B["a"])(Object(B["a"])({},Object(k["b"])(["login"])),{},{signUp:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.errors=[],e.error=!1,e.password===e.confirmPassword){t.next=6;break}return e.errors.push("Passwords do not match"),e.error=!0,t.abrupt("return");case 6:return t.prev=6,t.next=9,b.createUser(e.formData);case 9:if(r=t.sent,201!==r.status){t.next=17;break}return t.next=13,e.login(e.formData);case 13:a=t.sent,200===a.status?e.$router.push("/"):e.$router.push("/login"),t.next=19;break;case 17:e.errors.push("Error creating user."),e.error=!0;case 19:t.next=26;break;case 21:t.prev=21,t.t0=t["catch"](6),n={err:t.t0},n.err.isAxiosError?e.errors.push(n.err.response.data):e.errors.push(t.t0),e.error=!0;case 26:case"end":return t.stop()}}),t,null,[[6,21]])})))()}})},K=G,Q=(r("0dc6"),Object(v["a"])(K,z,Y,!1,null,null,null)),X=Q.exports;a["a"].use(x["a"]);var Z=[{path:"/",name:"Home",component:M,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:V},{path:"/signup",name:"Sign Up",component:X},{path:"/:pathMatch(.*)*",redirect:"/"}],ee=new x["a"]({mode:"history",base:"/",routes:Z});ee.beforeEach((function(e,t,r){e.matched.some((function(e){return e.meta.requiresAuth}))?N.getters.isLoggedIn?r():r({path:"/login"}):r()}));var te=ee;o.a.interceptors.response.use(void 0,(function(e){if(e){var t=e.config;if(401===e.response.status&&!t._retry)return t._retry=!0,N.dispatch("logout"),te.push("/login")}})),a["a"].config.productionTip=!1,new a["a"]({store:N,router:te,render:function(e){return e(D)}}).$mount("#app")},"5a56":function(e,t,r){},8946:function(e,t,r){},"9f9f":function(e,t,r){},cf05:function(e,t,r){e.exports=r.p+"static/img/logo.82b9c7a5.png"},d6db:function(e,t,r){"use strict";r("9f9f")},e5ce:function(e,t,r){}});
//# sourceMappingURL=app.94edc545.js.map